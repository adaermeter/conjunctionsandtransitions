<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Let's Practice</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Matching Game Styles */
    .game-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 2rem 0;
    }

    .word, .meaning {
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 80px;
    }

    .word-although, .meaning-although { background: #FF6B6B; }
    .word-because, .meaning-because { background: #3AA5FF; }
    .word-so, .meaning-so { background: #FFD93D; color: #2c3e50; }
    .word-and, .meaning-and { background: #6BCB77; }

    .meaning {
      background: #7f8c8d;
      color: white;
    }

    .word:hover, .meaning:hover { 
      transform: scale(1.05); 
      box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
    }
    
    .matched { 
      opacity: 0.6; 
      text-decoration: line-through; 
      transform: scale(0.95);
      cursor: default;
    }

    .selected {
      transform: scale(1.1);
      box-shadow: 0 0 0 3px var(--accent);
    }

    /* Game Controls */
    .game-controls {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .game-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .game-btn:hover {
      background: #2a8f72;
      transform: scale(1.05);
    }

    .game-btn.secondary {
      background: var(--secondary);
      color: var(--text);
    }

    .game-btn.secondary:hover {
      background: #e6c23e;
    }

    /* Fill in the Blanks Game */
    .fill-blanks-game {
      background: white;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 25px var(--shadow);
      margin: 2rem 0;
    }

    .sentence {
      font-size: 1.2rem;
      margin: 1.5rem 0;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 10px;
      line-height: 1.8;
    }

    .blank {
      display: inline-block;
      min-width: 120px;
      border-bottom: 2px dashed var(--accent);
      margin: 0 0.5rem;
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      cursor: pointer;
      position: relative;
    }

    .blank.filled {
      border-bottom: 2px solid var(--success);
    }

    .options-container {
      margin: 1rem 0;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 10px;
    }

    .sentence-options {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin: 0.5rem 0;
    }

    .option {
      background: var(--secondary);
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .option:hover {
      background: var(--primary);
      color: white;
      transform: scale(1.05);
    }

    .option.used {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Sentence Builder Game */
    .sentence-builder {
      background: white;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 25px var(--shadow);
      margin: 2rem 0;
    }

    .word-pool {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
      margin: 1.5rem 0;
      min-height: 60px;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 15px;
    }

    .sentence-area {
      min-height: 80px;
      border: 2px dashed var(--primary);
      border-radius: 15px;
      padding: 1.5rem;
      margin: 1.5rem 0;
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      background: #f8f9fa;
    }

    .draggable-word {
      background: var(--primary);
      color: white;
      padding: 0.8rem 1.2rem;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .draggable-word:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .draggable-word.used {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Quick Quiz Game */
    .quick-quiz {
      background: white;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 25px var(--shadow);
      margin: 2rem 0;
    }

    .quiz-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 2rem 0;
    }

    .quiz-option {
      background: var(--secondary);
      padding: 1.5rem;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      font-weight: 600;
    }

    .quiz-option:hover {
      background: var(--primary);
      color: white;
      transform: scale(1.02);
    }

    .quiz-option.correct {
      background: var(--success);
      color: white;
    }

    .quiz-option.incorrect {
      background: var(--accent);
      color: white;
    }

    .quiz-option.disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .score-display {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      margin: 1rem 0;
      color: var(--primary);
    }

    @media (max-width: 768px) {
      .game-grid { 
        grid-template-columns: 1fr; 
      }
      
      .game-controls {
        flex-direction: column;
      }
      
      .game-btn {
        width: 100%;
      }

      .quiz-options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Games</h1>
    <p>Let's Practice!</p>
  </header>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="conjunctions.html">Conjunctions</a></li>
      <li><a href="transitions.html">Transitions</a></li>
      <li><a href="paired-conjunctions.html">Paired Conjunctions</a></li>
      <li><a href="games.html" class="active">Games</a></li>
    </ul>
  </nav>

  <main class="container">
    <!-- Matching Game -->
    <section class="content-section">
      <h2>üéØ Word-Meaning Matching Game</h2>
      <p>Match each word with its correct meaning. Click on a word and then its matching meaning.</p>
      
      <div class="game-controls">
        <button class="game-btn" onclick="resetMatchingGame()">üîÑ Reset Game</button>
        <button class="game-btn secondary" onclick="shuffleMatchingGame()">üîÄ Shuffle</button>
      </div>
      
      <div class="game-grid" id="matchingGame">
        <!-- Words and meanings will be populated by JavaScript -->
      </div>
      
      <div id="gameResult" class="quiz-result"></div>
    </section>

    <!-- Fill in the Blanks Game -->
    <section class="content-section">
      <h2>üìù Fill in the Blanks</h2>
      <p>Click on the correct word for each sentence.</p>
      
      <div class="fill-blanks-game" id="fillBlanksGame">
        <div class="sentence">
          I wanted to go to the beach <span class="blank" data-correct="but">______</span> it started raining.
        </div>
        
        <div class="options-container">
          <p><strong>Choose the correct word:</strong></p>
          <div class="sentence-options">
            <div class="option" onclick="fillBlank('but', this)">but</div>
            <div class="option" onclick="fillBlank('and', this)">and</div>
            <div class="option" onclick="fillBlank('so', this)">so</div>
            <div class="option" onclick="fillBlank('because', this)">because</div>
          </div>
        </div>

        <div class="sentence">
          She studied very hard <span class="blank" data-correct="therefore">______</span> she passed the exam.
        </div>
        
        <div class="options-container">
          <p><strong>Choose the correct word:</strong></p>
          <div class="sentence-options">
            <div class="option" onclick="fillBlank('therefore', this)">therefore</div>
            <div class="option" onclick="fillBlank('however', this)">however</div>
            <div class="option" onclick="fillBlank('although', this)">although</div>
            <div class="option" onclick="fillBlank('meanwhile', this)">meanwhile</div>
          </div>
        </div>

        <div class="sentence">
          <span class="blank" data-correct="Although">______</span> it was cold, we went swimming.
        </div>
        
        <div class="options-container">
          <p><strong>Choose the correct word:</strong></p>
          <div class="sentence-options">
            <div class="option" onclick="fillBlank('Although', this)">Although</div>
            <div class="option" onclick="fillBlank('Because', this)">Because</div>
            <div class="option" onclick="fillBlank('So', this)">So</div>
            <div class="option" onclick="fillBlank('And', this)">And</div>
          </div>
        </div>
      </div>

      <div class="game-controls">
        <button class="game-btn" onclick="checkAllBlanks()">‚úÖ Check All Answers</button>
        <button class="game-btn secondary" onclick="resetBlanks()">üîÑ Reset</button>
      </div>
      
      <div id="blanksResult" class="quiz-result"></div>
    </section>

    <!-- Sentence Builder Game -->
    <section class="content-section">
      <h2>üèóÔ∏è Sentence Builder</h2>
      <p>Click on words in the correct order to build sentences.</p>
      
      <div class="sentence-builder">
        <div class="word-pool" id="wordPool">
          <!-- Words will be populated by JavaScript -->
        </div>
        
        <div class="sentence-area" id="sentenceArea">
          Click words above to build your sentence...
        </div>
        
        <div class="game-controls">
          <button class="game-btn" onclick="checkSentence()">‚úÖ Check Sentence</button>
          <button class="game-btn secondary" onclick="resetSentenceBuilder()">üîÑ New Sentence</button>
        </div>
        
        <div id="sentenceResult" class="quiz-result"></div>
      </div>
    </section>

    <!-- Quick Quiz Game -->
    <section class="content-section">
      <h2>‚è∞ Quick Quiz Challenge</h2>
      <p>Answer 5 questions to test your knowledge!</p>
      
      <div class="quick-quiz">
        <div class="score-display" id="quizScore">Score: 0/5</div>
        
        <div id="quizQuestion">
          <!-- Question will be loaded by JavaScript -->
        </div>
        
        <div class="quiz-options" id="quizOptions">
          <!-- Options will be loaded by JavaScript -->
        </div>
        
        <div class="game-controls">
          <button class="game-btn" onclick="nextQuizQuestion()">‚û°Ô∏è Next Question</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 English Connectives Master. Designed by Ada & Tuyen</p>
  </footer>

  <script>
    // Matching Game
    const matchingPairs = [
      { word: 'although', meaning: 'shows contrast', color: '#FF6B6B' },
      { word: 'because', meaning: 'shows reason', color: '#3AA5FF' },
      { word: 'so', meaning: 'shows result', color: '#FFD93D' },
      { word: 'and', meaning: 'shows addition', color: '#6BCB77' },
      { word: 'but', meaning: 'shows opposition', color: '#A78BFA' },
      { word: 'however', meaning: 'shows contrast', color: '#FF9E6B' }
    ];

    let selectedWord = null, selectedMeaning = null, matchedPairs = 0;

    function initMatchingGame() {
      const gameGrid = document.getElementById('matchingGame');
      gameGrid.innerHTML = '';
      
      // Shuffle arrays
      const shuffledWords = [...matchingPairs].sort(() => Math.random() - 0.5);
      const shuffledMeanings = [...matchingPairs].sort(() => Math.random() - 0.5);
      
      shuffledWords.forEach(pair => {
        const wordDiv = document.createElement('div');
        wordDiv.className = `word word-${pair.word}`;
        wordDiv.style.background = pair.color;
        wordDiv.textContent = pair.word;
        wordDiv.onclick = () => selectItem(wordDiv, 'word', pair.word);
        gameGrid.appendChild(wordDiv);
      });
      
      shuffledMeanings.forEach(pair => {
        const meaningDiv = document.createElement('div');
        meaningDiv.className = `meaning meaning-${pair.meaning.split(' ')[1]}`;
        meaningDiv.style.background = pair.color;
        meaningDiv.textContent = pair.meaning;
        meaningDiv.onclick = () => selectItem(meaningDiv, 'meaning', pair.meaning);
        gameGrid.appendChild(meaningDiv);
      });
    }

    function selectItem(element, type, value) {
      if (element.classList.contains('matched')) return;
      
      document.querySelectorAll('.selected').forEach(el => {
        el.classList.remove('selected');
      });
      
      element.classList.add('selected');
      
      if (type === 'word') {
        selectedWord = { element, value };
      } else {
        selectedMeaning = { element, value };
      }
      
      checkMatch();
    }

    function checkMatch() {
      if (selectedWord && selectedMeaning) {
        const wordPair = matchingPairs.find(p => p.word === selectedWord.value);
        const meaningPair = matchingPairs.find(p => p.meaning === selectedMeaning.value);
        
        if (wordPair === meaningPair) {
          selectedWord.element.classList.add('matched');
          selectedMeaning.element.classList.add('matched');
          matchedPairs++;
          
          document.getElementById('gameResult').textContent = 
            `Great! Matched ${matchedPairs} / ${matchingPairs.length} pairs!`;
          document.getElementById('gameResult').className = 'quiz-result success';
          
          if (matchedPairs === matchingPairs.length) {
            document.getElementById('gameResult').textContent = 
              `üéâ Congratulations! You've matched all pairs perfectly!`;
          }
        } else {
          document.getElementById('gameResult').textContent = 
            "Not quite right. Try again!";
          document.getElementById('gameResult').className = 'quiz-result warning';
          
          setTimeout(() => {
            selectedWord.element.classList.remove('selected');
            selectedMeaning.element.classList.remove('selected');
          }, 1000);
        }
        
        selectedWord = null;
        selectedMeaning = null;
      }
    }

    function resetMatchingGame() {
      document.querySelectorAll('.matched, .selected').forEach(el => {
        el.classList.remove('matched', 'selected');
      });
      selectedWord = null;
      selectedMeaning = null;
      matchedPairs = 0;
      document.getElementById('gameResult').textContent = 
        "Game reset! Start matching again.";
      document.getElementById('gameResult').className = 'quiz-result';
      initMatchingGame();
    }

    function shuffleMatchingGame() {
      resetMatchingGame();
    }

    // Fill in the Blanks Game
    function fillBlank(word, element) {
      // Find the blank for this sentence
      const sentence = element.closest('.options-container').previousElementSibling;
      const blank = sentence.querySelector('.blank');
      
      // Only fill if blank is empty
      if (blank.textContent === '______') {
        blank.textContent = word;
        blank.classList.add('filled');
        
        // Mark this option as used
        const options = sentence.nextElementSibling.querySelectorAll('.option');
        options.forEach(opt => {
          opt.classList.add('used');
          opt.onclick = null;
        });
        
        // Color the blank based on correctness
        if (blank.dataset.correct === word) {
          blank.style.background = 'var(--success)';
          blank.style.color = 'white';
        } else {
          blank.style.background = 'var(--accent)';
          blank.style.color = 'white';
        }
      }
    }

    function checkAllBlanks() {
      const blanks = document.querySelectorAll('.blank');
      let correct = 0;
      let total = blanks.length;
      
      blanks.forEach(blank => {
        if (blank.textContent === blank.dataset.correct) {
          correct++;
        }
      });
      
      const resultDiv = document.getElementById('blanksResult');
      if (correct === total) {
        resultDiv.textContent = 'üéâ Perfect! All answers are correct!';
        resultDiv.className = 'quiz-result success';
      } else {
        resultDiv.textContent = `You got ${correct} out of ${total} correct. Keep trying!`;
        resultDiv.className = 'quiz-result warning';
      }
    }

    function resetBlanks() {
      document.querySelectorAll('.blank').forEach(blank => {
        blank.textContent = '______';
        blank.classList.remove('filled');
        blank.style.background = 'transparent';
        blank.style.color = 'var(--primary)';
      });
      
      document.querySelectorAll('.option').forEach(option => {
        option.classList.remove('used');
        option.onclick = function() {
          fillBlank(this.textContent, this);
        };
      });
      
      document.getElementById('blanksResult').textContent = '';
    }

    // Sentence Builder Game
    let currentSentence = [];
    let userSentence = [];

    function initSentenceBuilder() {
      const wordPool = document.getElementById('wordPool');
      const sentences = [
        { words: ['I', 'like', 'coffee', 'but', 'I', "don't", 'like', 'tea', '.'], display: 'I like coffee but I don\'t like tea.' },
        { words: ['Although', 'it', 'was', 'raining', ',', 'we', 'went', 'outside', '.'], display: 'Although it was raining, we went outside.' },
        { words: ['She', 'studied', 'hard', ',', 'so', 'she', 'passed', 'the', 'exam', '.'], display: 'She studied hard, so she passed the exam.' },
        { words: ['He', 'wanted', 'to', 'go', ',', 'but', 'he', 'was', 'tired', '.'], display: 'He wanted to go, but he was tired.' }
      ];
      
      const randomSentence = sentences[Math.floor(Math.random() * sentences.length)];
      currentSentence = randomSentence.words;
      userSentence = [];
      
      wordPool.innerHTML = '';
      // Kelimeleri karƒ±≈ütƒ±r ama noktalama i≈üaretleri doƒüru yerde kalsƒ±n
      const shuffledWords = [...randomSentence.words].sort(() => Math.random() - 0.5);
      
      shuffledWords.forEach(word => {
        const wordSpan = document.createElement('span');
        wordSpan.className = 'draggable-word';
        wordSpan.textContent = word;
        wordSpan.onclick = () => addWordToSentence(word, wordSpan);
        wordPool.appendChild(wordSpan);
      });
      
      document.getElementById('sentenceArea').innerHTML = 'Click words above to build your sentence...';
      document.getElementById('sentenceResult').textContent = '';
    }

    function addWordToSentence(word, element) {
      const sentenceArea = document.getElementById('sentenceArea');
      if (sentenceArea.textContent === 'Click words above to build your sentence...') {
        sentenceArea.innerHTML = '';
      }
      
      const wordSpan = document.createElement('span');
      wordSpan.className = 'draggable-word';
      wordSpan.textContent = word;
      sentenceArea.appendChild(wordSpan);
      
      userSentence.push(word);
      
      element.classList.add('used');
      element.onclick = null;
    }

    function checkSentence() {
      const resultDiv = document.getElementById('sentenceResult');
      
      if (JSON.stringify(userSentence) === JSON.stringify(currentSentence)) {
        resultDiv.textContent = '‚úÖ Perfect! Correct sentence!';
        resultDiv.className = 'quiz-result success';
      } else {
        resultDiv.textContent = '‚ùå Not quite right. Try the "New Sentence" button!';
        resultDiv.className = 'quiz-result warning';
      }
    }

    function resetSentenceBuilder() {
      initSentenceBuilder();
    }

    // Quick Quiz Game
    const quizQuestions = [
      {
        question: "Which conjunction shows contrast?",
        options: ["and", "but", "so", "because"],
        correct: "but"
      },
      {
        question: "Which transition shows result?",
        options: ["however", "although", "therefore", "meanwhile"],
        correct: "therefore"
      },
      {
        question: "Which word means 'in addition'?",
        options: ["but", "although", "and", "because"],
        correct: "and"
      },
      {
        question: "Which conjunction shows reason?",
        options: ["so", "but", "because", "and"],
        correct: "because"
      },
      {
        question: "Which transition shows contrast between ideas?",
        options: ["therefore", "however", "so", "and"],
        correct: "however"
      }
    ];

    let currentQuestion = 0;
    let quizScore = 0;
    let answerSelected = false;

    function loadQuizQuestion() {
      if (currentQuestion >= quizQuestions.length) {
        document.getElementById('quizQuestion').innerHTML = '<h3>üéâ Quiz Complete!</h3>';
        document.getElementById('quizScore').textContent = `Final Score: ${quizScore}/${quizQuestions.length}`;
        document.getElementById('quizOptions').innerHTML = '';
        document.querySelector('.game-controls').innerHTML = '<button class="game-btn" onclick="resetQuiz()">üîÑ Restart Quiz</button>';
        return;
      }
      
      const question = quizQuestions[currentQuestion];
      document.getElementById('quizQuestion').innerHTML = `<h3>${question.question}</h3>`;
      
      const optionsDiv = document.getElementById('quizOptions');
      optionsDiv.innerHTML = '';
      
      question.options.forEach(option => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'quiz-option';
        optionDiv.textContent = option;
        optionDiv.onclick = () => checkQuizAnswer(option, optionDiv);
        optionsDiv.appendChild(optionDiv);
      });
      
      document.getElementById('quizScore').textContent = `Score: ${quizScore}/${quizQuestions.length}`;
      answerSelected = false;
    }

    function checkQuizAnswer(answer, element) {
      if (answerSelected) return;
      
      const question = quizQuestions[currentQuestion];
      answerSelected = true;
      
      // Disable all options
      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.classList.add('disabled');
        opt.onclick = null;
      });
      
      if (answer === question.correct) {
        element.classList.add('correct');
        quizScore++;
      } else {
        element.classList.add('incorrect');
        // Show correct answer
        document.querySelectorAll('.quiz-option').forEach(opt => {
          if (opt.textContent === question.correct) {
            opt.classList.add('correct');
          }
        });
      }
      
      document.getElementById('quizScore').textContent = `Score: ${quizScore}/${quizQuestions.length}`;
    }

    function nextQuizQuestion() {
      if (!answerSelected && currentQuestion < quizQuestions.length) {
        alert('Please select an answer first!');
        return;
      }
      
      currentQuestion++;
      loadQuizQuestion();
    }

    function resetQuiz() {
      currentQuestion = 0;
      quizScore = 0;
      answerSelected = false;
      loadQuizQuestion();
      document.querySelector('.game-controls').innerHTML = '<button class="game-btn" onclick="nextQuizQuestion()">‚û°Ô∏è Next Question</button>';
    }

    // Initialize all games when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initMatchingGame();
      initSentenceBuilder();
      loadQuizQuestion();
    });
  </script>
</body>
</html>